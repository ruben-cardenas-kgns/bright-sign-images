<!DOCTYPE html>
<html>
<head>
  <title>BrightSign Media</title>
  <style>
    .media-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
    img, video { max-width: 100%; }
  </style>
</head>
<body>
  <h1>BrightSign Media Files</h1>
  <div id="media-container" class="media-grid"></div>

  <script>
    // Fetch files from the 'media/' folder only
    const mediaFolder = 'media/';
    const validExtensions = ['.jpg', '.jpeg', '.png', '.gif'];

    fetch(mediaFolder)
      .then(response => response.text())
      .then(html => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');
        const links = Array.from(doc.querySelectorAll('a'))
          .filter(a => validExtensions.some(ext => a.href.endsWith(ext)))
          .map(a => a.href.split('/').pop()); // Get filenames

        const container = document.getElementById('media-container');
        links.forEach(file => {
          const mediaElement = file.endsWith('.gif') ? 
            document.createElement('img') : // GIFs as images
            document.createElement('img');  // JPG/PNG also as images
          
          mediaElement.src = `${mediaFolder}${file}`;
          mediaElement.alt = file;
          container.appendChild(mediaElement);
        });
      })
      .catch(error => {
        console.error("Error loading media:", error);
        document.getElementById('media-container').innerHTML = 
          "<p>Error loading files. Check console.</p>";
      });
  </script>
</body>
</html>
